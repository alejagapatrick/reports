<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - total_coverage.info - src/wallet/init.cpp</title>
  <link rel="stylesheet" type="text/css" href="../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../index.html">top level</a> - <a href="index.html">src/wallet</a> - init.cpp<span style="font-size: 80%;"> (source / <a href="init.cpp.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">total_coverage.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">63</td>
            <td class="headerCovTableEntry">66</td>
            <td class="headerCovTableEntryHi">95.5 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2000-01-01 12:00:00</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">4</td>
            <td class="headerCovTableEntry">4</td>
            <td class="headerCovTableEntryHi">100.0 %</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntry">153</td>
            <td class="headerCovTableEntry">348</td>
            <td class="headerCovTableEntryLo">44.0 %</td>
          </tr>
          <tr><td><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">           Branch data     Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>                :            : // Copyright (c) 2009-2010 Satoshi Nakamoto</a>
<a name="2"><span class="lineNum">       2 </span>                :            : // Copyright (c) 2009-2019 The Bitcoin Core developers</a>
<a name="3"><span class="lineNum">       3 </span>                :            : // Distributed under the MIT software license, see the accompanying</a>
<a name="4"><span class="lineNum">       4 </span>                :            : // file COPYING or http://www.opensource.org/licenses/mit-license.php.</a>
<a name="5"><span class="lineNum">       5 </span>                :            : </a>
<a name="6"><span class="lineNum">       6 </span>                :            : #include &lt;init.h&gt;</a>
<a name="7"><span class="lineNum">       7 </span>                :            : #include &lt;interfaces/chain.h&gt;</a>
<a name="8"><span class="lineNum">       8 </span>                :            : #include &lt;net.h&gt;</a>
<a name="9"><span class="lineNum">       9 </span>                :            : #include &lt;node/context.h&gt;</a>
<a name="10"><span class="lineNum">      10 </span>                :            : #include &lt;outputtype.h&gt;</a>
<a name="11"><span class="lineNum">      11 </span>                :            : #include &lt;ui_interface.h&gt;</a>
<a name="12"><span class="lineNum">      12 </span>                :            : #include &lt;util/moneystr.h&gt;</a>
<a name="13"><span class="lineNum">      13 </span>                :            : #include &lt;util/system.h&gt;</a>
<a name="14"><span class="lineNum">      14 </span>                :            : #include &lt;util/translation.h&gt;</a>
<a name="15"><span class="lineNum">      15 </span>                :            : #include &lt;wallet/coincontrol.h&gt;</a>
<a name="16"><span class="lineNum">      16 </span>                :            : #include &lt;wallet/wallet.h&gt;</a>
<a name="17"><span class="lineNum">      17 </span>                :            : #include &lt;walletinitinterface.h&gt;</a>
<a name="18"><span class="lineNum">      18 </span>                :            : </a>
<a name="19"><span class="lineNum">      19 </span>                :            : class WalletInit : public WalletInitInterface {</a>
<a name="20"><span class="lineNum">      20 </span>                :            : public:</a>
<a name="21"><span class="lineNum">      21 </span>                :            : </a>
<a name="22"><span class="lineNum">      22 </span>                :            :     //! Was the wallet component compiled in.</a>
<a name="23"><span class="lineNum">      23 </span>                :<span class="lineCov">        915 :     bool HasWalletSupport() const override {return true;}</span></a>
<a name="24"><span class="lineNum">      24 </span>                :            : </a>
<a name="25"><span class="lineNum">      25 </span>                :            :     //! Return the wallets help message.</a>
<a name="26"><span class="lineNum">      26 </span>                :            :     void AddWalletOptions() const override;</a>
<a name="27"><span class="lineNum">      27 </span>                :            : </a>
<a name="28"><span class="lineNum">      28 </span>                :            :     //! Wallets parameter interaction</a>
<a name="29"><span class="lineNum">      29 </span>                :            :     bool ParameterInteraction() const override;</a>
<a name="30"><span class="lineNum">      30 </span>                :            : </a>
<a name="31"><span class="lineNum">      31 </span>                :            :     //! Add wallets that should be opened to list of chain clients.</a>
<a name="32"><span class="lineNum">      32 </span>                :            :     void Construct(NodeContext&amp; node) const override;</a>
<a name="33"><span class="lineNum">      33 </span>                :            : };</a>
<a name="34"><span class="lineNum">      34 </span>                :            : </a>
<a name="35"><span class="lineNum">      35 </span>                :            : const WalletInitInterface&amp; g_wallet_init_interface = WalletInit();</a>
<a name="36"><span class="lineNum">      36 </span>                :            : </a>
<a name="37"><span class="lineNum">      37 </span>                :<span class="lineCov">        490 : void WalletInit::AddWalletOptions() const</span></a>
<a name="38"><span class="lineNum">      38 </span>                :            : {</a>
<a name="39"><span class="lineNum">      39 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-addresstype&quot;, strprintf(&quot;What type of addresses to use (\&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, or \&quot;bech32\&quot;, default: \&quot;%s\&quot;)&quot;, FormatOutputType(DEFAULT_ADDRESS_TYPE)), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="40"><span class="lineNum">      40 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-avoidpartialspends&quot;, strprintf(&quot;Group outputs by address, selecting all or none, instead of selecting on a per-output basis. Privacy is improved as an address is only used once (unless someone sends to it after spending from it), but may result in slightly higher fees as suboptimal coin selection may result due to the added limitation (default: %u (always enabled for wallets with \&quot;avoid_reuse\&quot; enabled))&quot;, DEFAULT_AVOIDPARTIALSPENDS), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="41"><span class="lineNum">      41 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-changetype&quot;, &quot;What type of change to use (\&quot;legacy\&quot;, \&quot;p2sh-segwit\&quot;, or \&quot;bech32\&quot;). Default is same as -addresstype, except when -addresstype=p2sh-segwit a native segwit output is used when sending to a native segwit address)&quot;, ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="42"><span class="lineNum">      42 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-disablewallet&quot;, &quot;Do not load the wallet and disable wallet RPC calls&quot;, ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="43"><span class="lineNum">      43 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1470 :     gArgs.AddArg(&quot;-discardfee=&lt;amt&gt;&quot;, strprintf(&quot;The fee rate (in %s/kB) that indicates your tolerance for discarding change by adding it to the fee (default: %s). &quot;</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchNoCov" title="Branch 8 was not taken"> - </span> 
<span class="lineNum">         </span>      <span class="branchCov" title="Branch 9 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 10 was not taken"> - </span><span class="branchNoCov" title="Branch 11 was not taken"> - </span>]
<a name="44"><span class="lineNum">      44 </span>                :            :                                                                 &quot;Note: An output is discarded if it is dust at this rate, but we will always discard up to the dust relay fee and a discard fee above that is limited by the fee estimate for the longest target&quot;,</a>
<a name="45"><span class="lineNum">      45 </span>                :<span class="lineCov">        490 :                                                               CURRENCY_UNIT, FormatMoney(DEFAULT_DISCARD_FEE)), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<a name="46"><span class="lineNum">      46 </span>                :            : </a>
<a name="47"><span class="lineNum">      47 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1470 :     gArgs.AddArg(&quot;-fallbackfee=&lt;amt&gt;&quot;, strprintf(&quot;A fee rate (in %s/kB) that will be used when fee estimation has insufficient data. 0 to entirely disable the fallbackfee feature. (default: %s)&quot;,</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchNoCov" title="Branch 8 was not taken"> - </span> 
<span class="lineNum">         </span>      <span class="branchCov" title="Branch 9 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 10 was not taken"> - </span><span class="branchNoCov" title="Branch 11 was not taken"> - </span>]
<a name="48"><span class="lineNum">      48 </span>                :<span class="lineCov">        490 :                                                                CURRENCY_UNIT, FormatMoney(DEFAULT_FALLBACK_FEE)), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<a name="49"><span class="lineNum">      49 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-keypool=&lt;n&gt;&quot;, strprintf(&quot;Set key pool size to &lt;n&gt; (default: %u). Warning: Smaller sizes may increase the risk of losing funds when restoring from an old backup, if none of the addresses in the original keypool have been used.&quot;, DEFAULT_KEYPOOL_SIZE), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="50"><span class="lineNum">      50 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1470 :     gArgs.AddArg(&quot;-maxtxfee=&lt;amt&gt;&quot;, strprintf(&quot;Maximum total fees (in %s) to use in a single wallet transaction; setting this too low may abort large transactions (default: %s)&quot;,</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchNoCov" title="Branch 8 was not taken"> - </span> 
<span class="lineNum">         </span>      <span class="branchCov" title="Branch 9 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 10 was not taken"> - </span><span class="branchNoCov" title="Branch 11 was not taken"> - </span>]
<a name="51"><span class="lineNum">      51 </span>                :<span class="lineCov">        490 :         CURRENCY_UNIT, FormatMoney(DEFAULT_TRANSACTION_MAXFEE)), ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST);</span></a>
<a name="52"><span class="lineNum">      52 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1470 :     gArgs.AddArg(&quot;-mintxfee=&lt;amt&gt;&quot;, strprintf(&quot;Fees (in %s/kB) smaller than this are considered zero fee for transaction creation (default: %s)&quot;,</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchNoCov" title="Branch 8 was not taken"> - </span> 
<span class="lineNum">         </span>      <span class="branchCov" title="Branch 9 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 10 was not taken"> - </span><span class="branchNoCov" title="Branch 11 was not taken"> - </span>]
<a name="53"><span class="lineNum">      53 </span>                :<span class="lineCov">        490 :                                                             CURRENCY_UNIT, FormatMoney(DEFAULT_TRANSACTION_MINFEE)), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<a name="54"><span class="lineNum">      54 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1470 :     gArgs.AddArg(&quot;-paytxfee=&lt;amt&gt;&quot;, strprintf(&quot;Fee (in %s/kB) to add to transactions you send (default: %s)&quot;,</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchNoCov" title="Branch 8 was not taken"> - </span> 
<span class="lineNum">         </span>      <span class="branchCov" title="Branch 9 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 10 was not taken"> - </span><span class="branchNoCov" title="Branch 11 was not taken"> - </span>]
<a name="55"><span class="lineNum">      55 </span>                :<span class="lineCov">        490 :                                                             CURRENCY_UNIT, FormatMoney(CFeeRate{DEFAULT_PAY_TX_FEE}.GetFeePerK())), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<a name="56"><span class="lineNum">      56 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-rescan&quot;, &quot;Rescan the block chain for missing wallet transactions on startup&quot;, ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="57"><span class="lineNum">      57 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-salvagewallet&quot;, &quot;Attempt to recover private keys from a corrupt wallet on startup&quot;, ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="58"><span class="lineNum">      58 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-spendzeroconfchange&quot;, strprintf(&quot;Spend unconfirmed change when sending transactions (default: %u)&quot;, DEFAULT_SPEND_ZEROCONF_CHANGE), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="59"><span class="lineNum">      59 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-txconfirmtarget=&lt;n&gt;&quot;, strprintf(&quot;If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)&quot;, DEFAULT_TX_CONFIRM_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="60"><span class="lineNum">      60 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-upgradewallet&quot;, &quot;Upgrade wallet to latest format on startup&quot;, ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="61"><span class="lineNum">      61 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-wallet=&lt;path&gt;&quot;, &quot;Specify wallet database path. Can be specified multiple times to load multiple wallets. Path is interpreted relative to &lt;walletdir&gt; if it is not absolute, and will be created if it does not exist (as a directory containing a wallet.dat file and log files). For backwards compatibility this will also accept names of existing data files in &lt;walletdir&gt;.)&quot;, ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="62"><span class="lineNum">      62 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-walletbroadcast&quot;,  strprintf(&quot;Make the wallet broadcast transactions (default: %u)&quot;, DEFAULT_WALLETBROADCAST), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="63"><span class="lineNum">      63 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-walletdir=&lt;dir&gt;&quot;, &quot;Specify directory to hold wallets (default: &lt;datadir&gt;/wallets if it exists, otherwise &lt;datadir&gt;)&quot;, ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="64"><span class="lineNum">      64 </span>                :            : #if HAVE_SYSTEM</a>
<a name="65"><span class="lineNum">      65 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-walletnotify=&lt;cmd&gt;&quot;, &quot;Execute command when a wallet transaction changes. %s in cmd is replaced by TxID and %w is replaced by wallet name. %w is not currently implemented on windows. On systems where %w is supported, it should NOT be quoted because this would break shell escaping used to invoke the command.&quot;, ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="66"><span class="lineNum">      66 </span>                :            : #endif</a>
<a name="67"><span class="lineNum">      67 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-walletrbf&quot;, strprintf(&quot;Send transactions with full-RBF opt-in enabled (RPC only, default: %u)&quot;, DEFAULT_WALLET_RBF), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="68"><span class="lineNum">      68 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-zapwallettxes=&lt;mode&gt;&quot;, &quot;Delete all wallet transactions and only recover those parts of the blockchain through -rescan on startup&quot;</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="69"><span class="lineNum">      69 </span>                :<span class="lineCov">        490 :                                &quot; (1 = keep tx meta data e.g. payment request information, 2 = drop tx meta data)&quot;, ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);</span></a>
<a name="70"><span class="lineNum">      70 </span>                :            : </a>
<a name="71"><span class="lineNum">      71 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-dblogsize=&lt;n&gt;&quot;, strprintf(&quot;Flush wallet database activity from memory to disk log every &lt;n&gt; megabytes (default: %u)&quot;, DEFAULT_WALLET_DBLOGSIZE), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="72"><span class="lineNum">      72 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-flushwallet&quot;, strprintf(&quot;Run a thread to flush wallet periodically (default: %u)&quot;, DEFAULT_FLUSHWALLET), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="73"><span class="lineNum">      73 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-privdb&quot;, strprintf(&quot;Sets the DB_PRIVATE flag in the wallet db environment (default: %u)&quot;, DEFAULT_WALLET_PRIVDB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="74"><span class="lineNum">      74 </span>  [<span class="branchCov" title="Branch 0 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        980 :     gArgs.AddArg(&quot;-walletrejectlongchains&quot;, strprintf(&quot;Wallet will not create transactions that violate mempool chain limits (default: %u)&quot;, DEFAULT_WALLET_REJECT_LONG_CHAINS), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 490 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="75"><span class="lineNum">      75 </span>                :<span class="lineCov">        490 : }</span></a>
<a name="76"><span class="lineNum">      76 </span>                :            : </a>
<a name="77"><span class="lineNum">      77 </span>                :<span class="lineCov">        474 : bool WalletInit::ParameterInteraction() const</span></a>
<a name="78"><span class="lineNum">      78 </span>                :            : {</a>
<a name="79"><span class="lineNum">      79 </span>  [<span class="branchCov" title="Branch 0 was taken 474 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 474 times"> + </span> :<span class="lineCov">        474 :     if (gArgs.GetBoolArg(&quot;-disablewallet&quot;, DEFAULT_DISABLE_WALLET)) {</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 13 times"> + </span><span class="branchCov" title="Branch 5 was taken 461 times"> + </span>]
<a name="80"><span class="lineNum">      80 </span>  [<span class="branchCov" title="Branch 0 was taken 13 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 13 times"> + </span> :<span class="lineCov">         13 :         for (const std::string&amp; wallet : gArgs.GetArgs(&quot;-wallet&quot;)) {</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 13 times"> + </span>]
<a name="81"><span class="lineNum">      81 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :             LogPrintf(&quot;%s: parameter interaction: -disablewallet -&gt; ignoring -wallet=%s\n&quot;, __func__, wallet);</span></a>
<a name="82"><span class="lineNum">      82 </span>                :            :         }</a>
<a name="83"><span class="lineNum">      83 </span>                :            : </a>
<a name="84"><span class="lineNum">      84 </span>                :<span class="lineCov">         13 :         return true;</span></a>
<a name="85"><span class="lineNum">      85 </span>                :            :     }</a>
<a name="86"><span class="lineNum">      86 </span>                :            : </a>
<a name="87"><span class="lineNum">      87 </span>  [<span class="branchCov" title="Branch 0 was taken 461 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 461 times"> + </span>]:<span class="lineCov">        461 :     const bool is_multiwallet = gArgs.GetArgs(&quot;-wallet&quot;).size() &gt; 1;</span></a>
<a name="88"><span class="lineNum">      88 </span>                :            : </a>
<a name="89"><span class="lineNum">      89 </span>  [<span class="branchCov" title="Branch 0 was taken 461 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 461 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        462 :     if (gArgs.GetBoolArg(&quot;-blocksonly&quot;, DEFAULT_BLOCKSONLY) &amp;&amp; gArgs.SoftSetBoolArg(&quot;-walletbroadcast&quot;, false)) {</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 1 time"> + </span><span class="branchCov" title="Branch 5 was taken 460 times"> + </span><span class="branchCov" title="Branch 6 was taken 1 time"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchCov" title="Branch 8 was taken 1 time"> + </span> 
<span class="lineNum">         </span><span class="branchNoCov" title="Branch 9 was not taken"> - </span><span class="branchNoCov" title="Branch 10 was not taken"> - </span><span class="branchCov" title="Branch 11 was taken 1 time"> + </span><span class="branchCov" title="Branch 12 was taken 1 time"> + </span><span class="branchCov" title="Branch 13 was taken 460 times"> + </span> 
<span class="lineNum">         </span><span class="branchNoCov" title="Branch 14 was not taken"> - </span><span class="branchCov" title="Branch 15 was taken 461 times"> + </span><span class="branchNoCov" title="Branch 16 was not taken"> - </span><span class="branchNoCov" title="Branch 17 was not taken"> - </span><span class="branchNoCov" title="Branch 18 was not taken"> - </span> 
<span class="lineNum">         </span>            <span class="branchNoCov" title="Branch 19 was not taken"> - </span>]
<a name="90"><span class="lineNum">      90 </span>                :<span class="lineCov">          1 :         LogPrintf(&quot;%s: parameter interaction: -blocksonly=1 -&gt; setting -walletbroadcast=0\n&quot;, __func__);</span></a>
<a name="91"><span class="lineNum">      91 </span>                :            :     }</a>
<a name="92"><span class="lineNum">      92 </span>                :            : </a>
<a name="93"><span class="lineNum">      93 </span>  [<span class="branchCov" title="Branch 0 was taken 461 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 461 times"> + </span> :<span class="lineCov">        461 :     if (gArgs.GetBoolArg(&quot;-salvagewallet&quot;, false)) {</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 4 times"> + </span><span class="branchCov" title="Branch 5 was taken 457 times"> + </span>]
<a name="94"><span class="lineNum">      94 </span>        [<span class="branchCov" title="Branch 0 was taken 4 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">          4 :         if (is_multiwallet) {</span></a>
<a name="95"><span class="lineNum">      95 </span>  [<span class="branchCov" title="Branch 0 was taken 4 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 4 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">          4 :             return InitError(strprintf(&quot;%s is only allowed with a single wallet file&quot;, &quot;-salvagewallet&quot;));</span></a>
<a name="96"><span class="lineNum">      96 </span>                :            :         }</a>
<a name="97"><span class="lineNum">      97 </span>                :            :         // Rewrite just private keys: rescan to find transactions</a>
<a name="98"><span class="lineNum">      98 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :         if (gArgs.SoftSetBoolArg(&quot;-rescan&quot;, true)) {</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="99"><span class="lineNum">      99 </span>                :<span class="lineNoCov">          0 :             LogPrintf(&quot;%s: parameter interaction: -salvagewallet=1 -&gt; setting -rescan=1\n&quot;, __func__);</span></a>
<a name="100"><span class="lineNum">     100 </span>                :            :         }</a>
<a name="101"><span class="lineNum">     101 </span>                :            :     }</a>
<a name="102"><span class="lineNum">     102 </span>                :            : </a>
<a name="103"><span class="lineNum">     103 </span>  [<span class="branchCov" title="Branch 0 was taken 457 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 457 times"> + </span>]:<span class="lineCov">        457 :     bool zapwallettxes = gArgs.GetBoolArg(&quot;-zapwallettxes&quot;, false);</span></a>
<a name="104"><span class="lineNum">     104 </span>                :            :     // -zapwallettxes implies dropping the mempool on startup</a>
<a name="105"><span class="lineNum">     105 </span>  [<span class="branchCov" title="Branch 0 was taken 14 times"> + </span><span class="branchCov" title="Branch 1 was taken 443 times"> + </span><span class="branchCov" title="Branch 2 was taken 14 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        472 :     if (zapwallettxes &amp;&amp; gArgs.SoftSetBoolArg(&quot;-persistmempool&quot;, false)) {</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 1 time"> + </span><span class="branchCov" title="Branch 5 was taken 13 times"> + </span><span class="branchCov" title="Branch 6 was taken 14 times"> + </span><span class="branchCov" title="Branch 7 was taken 443 times"> + </span><span class="branchCov" title="Branch 8 was taken 13 times"> + </span> 
<span class="lineNum">         </span>            <span class="branchCov" title="Branch 9 was taken 444 times"> + </span>]
<a name="106"><span class="lineNum">     106 </span>                :<span class="lineCov">         13 :         LogPrintf(&quot;%s: parameter interaction: -zapwallettxes enabled -&gt; setting -persistmempool=0\n&quot;, __func__);</span></a>
<a name="107"><span class="lineNum">     107 </span>                :            :     }</a>
<a name="108"><span class="lineNum">     108 </span>                :            : </a>
<a name="109"><span class="lineNum">     109 </span>                :            :     // -zapwallettxes implies a rescan</a>
<a name="110"><span class="lineNum">     110 </span>        [<span class="branchCov" title="Branch 0 was taken 14 times"> + </span><span class="branchCov" title="Branch 1 was taken 443 times"> + </span>]:<span class="lineCov">        457 :     if (zapwallettxes) {</span></a>
<a name="111"><span class="lineNum">     111 </span>        [<span class="branchCov" title="Branch 0 was taken 6 times"> + </span><span class="branchCov" title="Branch 1 was taken 8 times"> + </span>]:<span class="lineCov">         14 :         if (is_multiwallet) {</span></a>
<a name="112"><span class="lineNum">     112 </span>  [<span class="branchCov" title="Branch 0 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">          6 :             return InitError(strprintf(&quot;%s is only allowed with a single wallet file&quot;, &quot;-zapwallettxes&quot;));</span></a>
<a name="113"><span class="lineNum">     113 </span>                :            :         }</a>
<a name="114"><span class="lineNum">     114 </span>  [<span class="branchCov" title="Branch 0 was taken 8 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 8 times"> + </span> :<span class="lineCov">          8 :         if (gArgs.SoftSetBoolArg(&quot;-rescan&quot;, true)) {</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 8 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="115"><span class="lineNum">     115 </span>                :<span class="lineCov">          8 :             LogPrintf(&quot;%s: parameter interaction: -zapwallettxes enabled -&gt; setting -rescan=1\n&quot;, __func__);</span></a>
<a name="116"><span class="lineNum">     116 </span>                :            :         }</a>
<a name="117"><span class="lineNum">     117 </span>                :            :     }</a>
<a name="118"><span class="lineNum">     118 </span>                :            : </a>
<a name="119"><span class="lineNum">     119 </span>        [<span class="branchCov" title="Branch 0 was taken 16 times"> + </span><span class="branchCov" title="Branch 1 was taken 435 times"> + </span>]:<span class="lineCov">        451 :     if (is_multiwallet) {</span></a>
<a name="120"><span class="lineNum">     120 </span>  [<span class="branchCov" title="Branch 0 was taken 16 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 16 times"> + </span> :<span class="lineCov">         16 :         if (gArgs.GetBoolArg(&quot;-upgradewallet&quot;, false)) {</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 4 times"> + </span><span class="branchCov" title="Branch 5 was taken 12 times"> + </span>]
<a name="121"><span class="lineNum">     121 </span>  [<span class="branchCov" title="Branch 0 was taken 4 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 4 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">        478 :             return InitError(strprintf(&quot;%s is only allowed with a single wallet file&quot;, &quot;-upgradewallet&quot;));</span></a>
<a name="122"><span class="lineNum">     122 </span>                :            :         }</a>
<a name="123"><span class="lineNum">     123 </span>                :            :     }</a>
<a name="124"><span class="lineNum">     124 </span>                :            : </a>
<a name="125"><span class="lineNum">     125 </span>  [<span class="branchCov" title="Branch 0 was taken 447 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 447 times"> + </span> :<span class="lineCov">        447 :     if (gArgs.GetBoolArg(&quot;-sysperms&quot;, false))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 447 times"> + </span>]
<a name="126"><span class="lineNum">     126 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">        474 :         return InitError(&quot;-sysperms is not allowed in combination with enabled wallet functionality&quot;);</span></a>
<a name="127"><span class="lineNum">     127 </span>                :            : </a>
<a name="128"><span class="lineNum">     128 </span>                :            :     return true;</a>
<a name="129"><span class="lineNum">     129 </span>                :            : }</a>
<a name="130"><span class="lineNum">     130 </span>                :            : </a>
<a name="131"><span class="lineNum">     131 </span>                :<span class="lineCov">        457 : void WalletInit::Construct(NodeContext&amp; node) const</span></a>
<a name="132"><span class="lineNum">     132 </span>                :            : {</a>
<a name="133"><span class="lineNum">     133 </span>  [<span class="branchCov" title="Branch 0 was taken 457 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 457 times"> + </span> :<span class="lineCov">        457 :     if (gArgs.GetBoolArg(&quot;-disablewallet&quot;, DEFAULT_DISABLE_WALLET)) {</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 13 times"> + </span><span class="branchCov" title="Branch 5 was taken 444 times"> + </span>]
<a name="134"><span class="lineNum">     134 </span>                :<span class="lineCov">         13 :         LogPrintf(&quot;Wallet disabled!\n&quot;);</span></a>
<a name="135"><span class="lineNum">     135 </span>                :<span class="lineCov">         13 :         return;</span></a>
<a name="136"><span class="lineNum">     136 </span>                :            :     }</a>
<a name="137"><span class="lineNum">     137 </span>  [<span class="branchCov" title="Branch 0 was taken 444 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 444 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        888 :     gArgs.SoftSetArg(&quot;-wallet&quot;, &quot;&quot;);</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 444 times"> + </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="138"><span class="lineNum">     138 </span>  [<span class="branchCov" title="Branch 0 was taken 444 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 444 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1789 :     node.chain_clients.emplace_back(interfaces::MakeWalletClient(*node.chain, gArgs.GetArgs(&quot;-wallet&quot;)));</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 444 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 444 times"> + </span>]
<a name="139"><span class="lineNum">     139 </span>                :            : }</a>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.14</a></td></tr>
  </table>
  <br>

</body>
</html>
